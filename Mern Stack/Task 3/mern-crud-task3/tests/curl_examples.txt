# 1. List users (with pagination & projection)
curl "http://localhost:4000/api/users?page=1&limit=5&fields=name,email,age&sort=-age"

# 2. Get user by id
curl "http://localhost:4000/api/users/<USER_ID>"

# 3. Create user
curl -X POST http://localhost:4000/api/users -H "Content-Type: application/json" -d '{"name":"Test User","email":"test.user@example.com","age":27,"role":"user"}'

# 4. Create many
curl -X POST http://localhost:4000/api/users/bulk -H "Content-Type: application/json" -d '[{"name":"Bulk1","email":"bulk1@example.com","age":20},{"name":"Bulk2","email":"bulk2@example.com","age":21}]'

# 5. Update user
curl -X PUT http://localhost:4000/api/users/<USER_ID> -H "Content-Type: application/json" -d '{"name":"Updated Name"}'

# 6. Increment age
curl -X PATCH http://localhost:4000/api/users/<USER_ID>/increment -H "Content-Type: application/json" -d '{"inc":1}'

# 7. Soft delete
curl -X PATCH http://localhost:4000/api/users/<USER_ID>/soft-delete

# 8. Hard delete
curl -X DELETE http://localhost:4000/api/users/<USER_ID>

# 9. Bulk update example
curl -X POST http://localhost:4000/api/users/bulkUpdate -H "Content-Type: application/json" -d '{"filter":{"role":"guest"},"update":{"$set":{"role":"user"}}}'

# 10. Transaction create-two (requires replica set)
curl -X POST http://localhost:4000/api/users/tx/create-two -H "Content-Type: application/json" -d '{"users":[{"name":"Tx A","email":"txa@example.com"},{"name":"Tx B","email":"txb@example.com"}]}'
